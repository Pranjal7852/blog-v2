<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Ensure Your Websites Ranks on Google | Pranjal's Blog</title><meta name=keywords content="web-crawling,google-search-console,indexing"><meta name=description content="⚡ TL;DR A technical guide to solving common SEO challenges including multi-region canonical URLs and preventing test site indexing, using dynamic sitemap generation and Google Search Console to boost your web app's search visibility."><meta name=author content><link rel=canonical href=http://localhost:1313/posts/seo-google-search-console/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/webxsx.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/seo-google-search-console/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/seo-google-search-console/"><meta property="og:site_name" content="Pranjal's Blog"><meta property="og:title" content="How to Ensure Your Websites Ranks on Google"><meta property="og:description" content="⚡ TL;DR A technical guide to solving common SEO challenges including multi-region canonical URLs and preventing test site indexing, using dynamic sitemap generation and Google Search Console to boost your web app's search visibility."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-28T15:33:44+05:30"><meta property="article:modified_time" content="2024-12-28T15:33:44+05:30"><meta property="article:tag" content="Web-Crawling"><meta property="article:tag" content="Google-Search-Console"><meta property="article:tag" content="Indexing"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="How to Ensure Your Websites Ranks on Google"><meta name=twitter:description content="⚡ TL;DR A technical guide to solving common SEO challenges including multi-region canonical URLs and preventing test site indexing, using dynamic sitemap generation and Google Search Console to boost your web app's search visibility."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"How to Ensure Your Websites Ranks on Google","item":"http://localhost:1313/posts/seo-google-search-console/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Ensure Your Websites Ranks on Google","name":"How to Ensure Your Websites Ranks on Google","description":"⚡ TL;DR A technical guide to solving common SEO challenges including multi-region canonical URLs and preventing test site indexing, using dynamic sitemap generation and Google Search Console to boost your web app's search visibility.","keywords":["web-crawling","google-search-console","indexing"],"articleBody":"Custom solutions to enhance Search Enginer Optimization and an Overview of Google Seach Console Imagine this: Your web app is ready to rock the world. You’ve nailed the development, deployment is flawless, and your marketing team is prepped to take the spotlight. But there’s a catch—when users Google your app’s name, your website doesn’t show up. How can users trust your app is legit? And if they want to test your product, how will they find it? You can’t just hand out your server’s IP address to bypass DNS, right?\nLet’s dive into this problem and explore how I helped our site rank at the top of Google’s search results.\nWhat is Indexing, and Why Does It Matter? Before we dive into solutions, let’s address the basics. What is indexing?\nIndexing is the process by which search engine bots (also known as crawlers) store your site’s content—like text, images, and metadata—in their database. This allows Google to quickly retrieve and display relevant results when users search for something.\nBut what if your site isn’t being indexed properly? That’s where Google Search Console (GSC) and a few SEO best practices come into play.\nProblem 1: Canonical URLs for Multi-Region Websites If your website has multiple versions—say, one for the US (example.us), one for Japan (example.jp), and another for India (example.in)—you need to ensure users see the correct version based on their location. You don’t want a user in the US landing on the Japanese version of your site, do you?\nSolution: Dynamically Generate Sitemaps and Robots.txt Files To tackle this, we implemented a dynamic sitemap and robots.txt generation system. Here’s how it works:\nEnvironment-Based Sitemap Generation:\nWe used environment variables (e.g., REGION=jp) to generate sitemaps tailored to each region. For example, if REGION=jp, the sitemap would prioritize https://example.jp as the canonical URL. Dynamic URLs for Content:\nWe also fetched data from the server to dynamically include all relevant pages in the sitemap. This ensures every page is indexed without manual intervention. Here’s an example of how we implemented this in Next.js:\nfunction generateSiteMap(worksheets) { return `\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e https://example.${process.env.REGION} weekly 1.0 https://example.ai/home daily 0.8 https://example.ai/onboarding weekly 0.7 ${worksheets .map(({ worksheet_id, activity_id }) =\u003e { return ` ${`https://example.ai/home/worksheet/${worksheet_id}/${activity_id}`} monthly 0.6 `; }) .join(\"\")} `; } Additional Methods to Set Canonical URLs Add a rel=canonical link to your HTML file. Send an HTML header with rel=canonical. Include rel=canonical in your sitemap for all builds. Problem 2: Preventing Test or Beta Sites from Being Indexed You don’t want your testing or beta versions popping up on Google, right? These versions aren’t meant for end users, and indexing them can lead to confusion.\nSolution: Use Robots.txt to Disallow Crawling By adding test or beta site URLs to your robots.txt file, you can instruct search engine bots to skip these pages. Here’s an example:\n# Allow all search engines to crawl the entire site User-agent: * Disallow: /api.us.example.ai/ Disallow: /graphql.us.example.ai/ Disallow: /home/worksheet/ Disallow: /proxy.mixpanel.example.ai/ # Allow Googlebot to access the entire site User-agent: Googlebot Disallow: # Allow Bingbot to access the entire site User-agent: Bingbot Disallow: # Sitemap location Sitemap: http://www.exmaple.ai/sitemap.xml How Google Search Console (GSC) Can Help Google Search Console is a powerful tool for developers and marketers alike. It helps you monitor and troubleshoot your site’s presence in Google Search results. Here’s how to get started:\nRegister Your Domain:\nAdd your website to GSC and verify ownership. Identify Issues:\nGSC will highlight any indexing or crawling issues. Fix and Optimize:\nAddress the issues to ensure your site is properly indexed. Final Thoughts Ensuring your web app ranks on Google isn’t just about great content—it’s about technical SEO too. By setting the right canonical URLs, dynamically generating sitemaps, and leveraging tools like Google Search Console, you can significantly improve your site’s visibility.\n","wordCount":"648","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-12-28T15:33:44+05:30","dateModified":"2024-12-28T15:33:44+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/seo-google-search-console/"},"publisher":{"@type":"Organization","name":"Pranjal's Blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/webxsx.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Pranjal's Blog (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Pranjal's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/posts/ title=Posts><span>Posts</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://pranjalgoyal.dev/ title=Portfolio><span>Portfolio</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">How to Ensure Your Websites Ranks on Google</h1><div class=post-description>⚡ TL;DR A technical guide to solving common SEO challenges including multi-region canonical URLs and preventing test site indexing, using dynamic sitemap generation and Google Search Console to boost your web app's search visibility.</div><div class=post-meta><span title='2024-12-28 15:33:44 +0530 IST'>December 28, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;648 words</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-is-indexing-and-why-does-it-matter>What is Indexing, and Why Does It Matter?</a></li><li><a href=#problem-1-canonical-urls-for-multi-region-websites>Problem 1: Canonical URLs for Multi-Region Websites</a><ul><li><a href=#solution-dynamically-generate-sitemaps-and-robotstxt-files>Solution: Dynamically Generate Sitemaps and Robots.txt Files</a></li><li><a href=#additional-methods-to-set-canonical-urls>Additional Methods to Set Canonical URLs</a></li></ul></li><li><a href=#problem-2-preventing-test-or-beta-sites-from-being-indexed>Problem 2: Preventing Test or Beta Sites from Being Indexed</a><ul><li><a href=#solution-use-robotstxt-to-disallow-crawling>Solution: Use Robots.txt to Disallow Crawling</a></li></ul></li><li><a href=#how-google-search-console-gsc-can-help>How Google Search Console (GSC) Can Help</a></li><li><a href=#final-thoughts>Final Thoughts</a></li></ul></nav></div></details></div><div class=post-content><h1 id=custom-solutions-to-enhance-search-enginer-optimization-and-an-overview-of-google-seach-console>Custom solutions to enhance Search Enginer Optimization and an Overview of Google Seach Console<a hidden class=anchor aria-hidden=true href=#custom-solutions-to-enhance-search-enginer-optimization-and-an-overview-of-google-seach-console>#</a></h1><p>Imagine this: Your web app is ready to rock the world. You’ve nailed the development, deployment is flawless, and your marketing team is prepped to take the spotlight. But there’s a catch—when users Google your app’s name, your website doesn’t show up. How can users trust your app is legit? And if they want to test your product, how will they find it? You can’t just hand out your server’s IP address to bypass DNS, right?</p><p><img alt="Google Seach Console Dashboard" loading=lazy src=/images/GSC-dashboard.png></p><p>Let’s dive into this problem and explore how I helped our site rank at the top of Google’s search results.</p><h2 id=what-is-indexing-and-why-does-it-matter>What is Indexing, and Why Does It Matter?<a hidden class=anchor aria-hidden=true href=#what-is-indexing-and-why-does-it-matter>#</a></h2><p>Before we dive into solutions, let’s address the basics. <strong>What is indexing?</strong><br>Indexing is the process by which search engine bots (also known as crawlers) store your site’s content—like text, images, and metadata—in their database. This allows Google to quickly retrieve and display relevant results when users search for something.</p><p>But what if your site isn’t being indexed properly? That’s where <strong>Google Search Console (GSC)</strong> and a few SEO best practices come into play.</p><h2 id=problem-1-canonical-urls-for-multi-region-websites>Problem 1: Canonical URLs for Multi-Region Websites<a hidden class=anchor aria-hidden=true href=#problem-1-canonical-urls-for-multi-region-websites>#</a></h2><p>If your website has multiple versions—say, one for the US (<code>example.us</code>), one for Japan (<code>example.jp</code>), and another for India (<code>example.in</code>)—you need to ensure users see the correct version based on their location. You don’t want a user in the US landing on the Japanese version of your site, do you?</p><h3 id=solution-dynamically-generate-sitemaps-and-robotstxt-files>Solution: Dynamically Generate Sitemaps and Robots.txt Files<a hidden class=anchor aria-hidden=true href=#solution-dynamically-generate-sitemaps-and-robotstxt-files>#</a></h3><p>To tackle this, we implemented a dynamic sitemap and <code>robots.txt</code> generation system. Here’s how it works:</p><ol><li><strong>Environment-Based Sitemap Generation</strong>:<br>We used environment variables (e.g., <code>REGION=jp</code>) to generate sitemaps tailored to each region. For example, if <code>REGION=jp</code>, the sitemap would prioritize <code>https://example.jp</code> as the canonical URL.</li></ol><p><img alt="Dynamic Sitemap" loading=lazy src=/images/dynamic-sitemap.png></p><ol start=2><li><strong>Dynamic URLs for Content</strong>:<br>We also fetched data from the server to dynamically include all relevant pages in the sitemap. This ensures every page is indexed without manual intervention.</li></ol><p>Here’s an example of how we implemented this in Next.js:</p><pre tabindex=0><code>function generateSiteMap(worksheets) {
  return `&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
  &lt;urlset xmlns=&#34;http://www.sitemaps.org/schemas/sitemap/0.9&#34;&gt;
    &lt;!-- Static URLs --&gt;
    &lt;url&gt;
      &lt;loc&gt;https://example.${process.env.REGION}&lt;/loc&gt;
      &lt;changefreq&gt;weekly&lt;/changefreq&gt;
      &lt;priority&gt;1.0&lt;/priority&gt;
    &lt;/url&gt;
    &lt;url&gt;
      &lt;loc&gt;https://example.ai/home&lt;/loc&gt;
      &lt;changefreq&gt;daily&lt;/changefreq&gt;
      &lt;priority&gt;0.8&lt;/priority&gt;
    &lt;/url&gt;
    &lt;url&gt;
      &lt;loc&gt;https://example.ai/onboarding&lt;/loc&gt;
      &lt;changefreq&gt;weekly&lt;/changefreq&gt;
      &lt;priority&gt;0.7&lt;/priority&gt;
    &lt;/url&gt;
    &lt;!-- Dynamic URLs from worksheet data --&gt; ${worksheets
      .map(({ worksheet_id, activity_id }) =&gt; {
        return ` &lt;url&gt;
          &lt;loc&gt;${`https://example.ai/home/worksheet/${worksheet_id}/${activity_id}`}&lt;/loc&gt;
          &lt;changefreq&gt;monthly&lt;/changefreq&gt;
          &lt;priority&gt;0.6&lt;/priority&gt;
        &lt;/url&gt; `;
      })
      .join(&#34;&#34;)}
  &lt;/urlset&gt;`;
}
</code></pre><h3 id=additional-methods-to-set-canonical-urls>Additional Methods to Set Canonical URLs<a hidden class=anchor aria-hidden=true href=#additional-methods-to-set-canonical-urls>#</a></h3><ol><li>Add a <code>rel=canonical</code> link to your HTML file.</li><li>Send an HTML header with <code>rel=canonical</code>.</li><li>Include <code>rel=canonical</code> in your sitemap for all builds.</li><li></li></ol><h2 id=problem-2-preventing-test-or-beta-sites-from-being-indexed>Problem 2: Preventing Test or Beta Sites from Being Indexed<a hidden class=anchor aria-hidden=true href=#problem-2-preventing-test-or-beta-sites-from-being-indexed>#</a></h2><p>You don’t want your testing or beta versions popping up on Google, right? These versions aren’t meant for end users, and indexing them can lead to confusion.</p><h3 id=solution-use-robotstxt-to-disallow-crawling>Solution: Use Robots.txt to Disallow Crawling<a hidden class=anchor aria-hidden=true href=#solution-use-robotstxt-to-disallow-crawling>#</a></h3><p>By adding test or beta site URLs to your <code>robots.txt</code> file, you can instruct search engine bots to skip these pages. Here’s an example:</p><pre tabindex=0><code># Allow all search engines to crawl the entire site
User-agent: *
Disallow: /api.us.example.ai/
Disallow: /graphql.us.example.ai/
Disallow: /home/worksheet/
Disallow: /proxy.mixpanel.example.ai/

# Allow Googlebot to access the entire site
User-agent: Googlebot
Disallow:

# Allow Bingbot to access the entire site
User-agent: Bingbot
Disallow:

# Sitemap location
Sitemap: http://www.exmaple.ai/sitemap.xml
</code></pre><h2 id=how-google-search-console-gsc-can-help>How Google Search Console (GSC) Can Help<a hidden class=anchor aria-hidden=true href=#how-google-search-console-gsc-can-help>#</a></h2><p>Google Search Console is a powerful tool for developers and marketers alike. It helps you monitor and troubleshoot your site’s presence in Google Search results. Here’s how to get started:</p><ol><li><strong>Register Your Domain</strong>:<br>Add your website to GSC and verify ownership.</li><li><strong>Identify Issues</strong>:<br>GSC will highlight any indexing or crawling issues.</li><li><strong>Fix and Optimize</strong>:<br>Address the issues to ensure your site is properly indexed.</li></ol><h2 id=final-thoughts>Final Thoughts<a hidden class=anchor aria-hidden=true href=#final-thoughts>#</a></h2><p>Ensuring your web app ranks on Google isn’t just about great content—it’s about technical SEO too. By setting the right canonical URLs, dynamically generating sitemaps, and leveraging tools like Google Search Console, you can significantly improve your site’s visibility.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/web-crawling/>Web-Crawling</a></li><li><a href=http://localhost:1313/tags/google-search-console/>Google-Search-Console</a></li><li><a href=http://localhost:1313/tags/indexing/>Indexing</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/ai-goldrush/><span class=title>« Prev</span><br><span>Beyond the AI Gold Rush</span>
</a><a class=next href=http://localhost:1313/posts/shell-scripting/><span class=title>Next »</span><br><span>Why and What is SHELL?</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Pranjal's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>